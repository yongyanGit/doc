### 索引

B+树索引本身并不能找到具体的一条记录，B+树索引能找到只是该记录所在的页。数据库把页载入内存，然后通过Page Directory(页目录)再进行二叉查找，只是二叉查找时间复杂度很低，同时内存中查找很快，因此通常我们忽略这部分查找所用的时间。

Page Directory 存放了记录的相对位置，有些时候这些记录指针称为Slots(槽)。InnoDB的一个槽中可能有多条记录（最少4条，最多8条）。Slots中的记录按照顺序存放，这样可以通过二叉查找迅速找到记录的指针。

#### B+树索引

在数据库中，B+树的高度一般都在2~3层，对于查找某一键值的行记录，最多只需要2到3次IO。

B+树索引分为聚集索引和辅助聚集索引。

**聚集索引**

InnoDB存储引擎表是索引组织表，即表中的数据按照主键的顺序存放。聚集索引就是按照每张表的主键构造一颗B+树，叶节点存放着整张表的行记录数据，因此聚集索引的叶节点成为数据页，每个数据页通过一个双向链表来进行链接。

在许多情况下，查询优化器更倾向于采用聚集索引，因为聚集索引能够让我们在索引的叶子上直接找到数据。聚集索引能够特别快的访问针对范围值的查询。

```
create table t (a int not null primary key,b varchar(8000));
```





