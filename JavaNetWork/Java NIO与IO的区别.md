#### Java NIO与IO的区别

```
IO                NIO
面向流            面向缓冲
阻塞IO            非阻塞IO
无                选择器
```

**面向流与面向缓冲**

Java NIO和IO之间第一个最大的区别是，IO是面向流的，NIO是面向缓冲的。Java IO面向流意味着每次从流中读一个字节或多个字节，直至读取完所有的字节，它们没有被缓存在任何地方。此外，它不能前后移动流中的数据。如果需要前后移动从流中读取数据，需要先将它缓存到一个缓冲区。Java NIO的缓冲导向方法略有不同，数据读到一个它稍后处理的缓冲区，需要时可在缓冲区中前后移动。但是在操作过程中需要检查是否该缓冲区包含所有需要处理的数据，确保当更多的数据读入到缓冲区，不会覆盖缓冲区中尚未处理的数据。

**阻塞与非阻塞IO**

Java IO的各种流是阻塞的，意味着当一个线程调用read()或者write()方法时，该线程会一直被阻塞，直到有一些数据被读取或者完全写入。该线程在这期间不能再干其它的事情。Java NIO的非阻塞模式，使一个线程从某个通道发送请求读取数据，但是它仅能得到目前可用的数据，如果目前没有数据可用，就什么都不会获取到，不会一直保持线程阻塞。

**选择器**

Java NIO 的选择器允许一个单独的线程来监视多个输入通道，你可以注册多个通道使用一个选择器，然后使用一个单独的线程来选择通道，这些通道里已经有可以处理的输入或者选择已经准备写入的通道。这种选择机制，使得一个单独的线程很容易管理多个通道。

**Java NIO与IO使用选择**

如果你有少量的连接使用非常高的带宽，也许传统IO服务器实现非常适合。如果需要管理同时打开成千上万个连接并且这些连接每次只是发送少量的数据则Java NIO更适合。