### 初识kafka

1. 消息和批次

Kafka的数据单元称为消息，可以把消息看成数据库里的一个“数据行”或一条记录。消息没有特别的格式或含义。但是它有一个可选的元数据，也就是键，当消息以一种可控的方式写入不同的分区时，会用到键。最简单的方式就是为键生成一个一致性散列值，然后使用散列值对主题分区数进行取模，为消息选取分区。

批次就是一组消息，这些消息同属于一个主题和分区，如果一个消息都单独穿行于网络，会导致大量的网络开销，把消息分成批次传递可以减少网络开销。但是批次越大，单位时间内处理的消息就越多，单个消息的传输时间就越长。

2. 模式

