### 数据格式

大多数GCC生成的汇编代码指令都有一个字符的后缀，表明操作数的大小。例如，数据传送指令有四个变种：movb(传送字节)、movw(传送字)、movl(传送双字)和movq(传送四字)。

由于是从16位体系结构扩展成32位的，Intel用术语“字(word)”表示16位数据类型。因此，称32位数为“双字(double words)”，后缀用l(long word)来表示;同理称64位数为“四字(quad words)”，后缀q。

![](../images/cs/1.png)

### 访问信息

一个x86-64的中央处理单元(CPU)包含一组16个存储64位值的通用目的寄存器，这些寄存器用来存储整数数据和指针。如下显示了这16个寄存器，它们的名字都以%r开头，不过后面还跟着一些不同的命名规则的名字，这是由于指令集历史演化造成的。

最初的8086中有8个16位的寄存器，即%ax 到%bp，每个寄存器都有特殊的用途，它们的名字就反应了这些不同的用途。拓展到IA32架构时，这些寄存器也拓展成32位寄存器，标号从%eax到%ebp 。拓展到x86-64后，原来的8个寄存器扩展成64位标号从%rax到%rbp。除此之外，还增加了8个新的寄存器，它们的标号是按照新的命名规则制定的：从%r8到%r15。

![](../images/cs/2.png)

所用16个寄存器的低位部分都可以作为字节、字(16位)、双字(32位)和四字(64 位)数字来访问，16位操作可以访问最低的2个字节，32位操作可以访问最低的4个字节，而64位操作可以访问整个寄存器。当这些指令以寄存器为目标时，生成1字节和2字节数字的指令会保持剩下的字节不变；生成4字节的指令会把高位4个字节置为0。

### 操作数指示符

大多数指令有一个或多个操作数，指示出执行一个操作中要使用的源数据值以及放置结果的目的位置。源数据可以以常数的形式给出或是从寄存器会内存中读出。结果可以存放在寄存器或内存中。

**操作数**可以分为三种：

* 立即数：书写方式是'$'后面跟一个用标准C表示的整数，比如，\$-577或者\$0x1f。不同的指令允许的立即数值范围不同。
* 寄存器：它表示某个寄存器的内容，16个寄存器的低位1字节、2字节、4字节或8字节中的一个作为操作数，这些字节分别对应于8位、16位、32位 或64位。我们用r$_a$来表示任意寄存器a，用引用R[r$_a$]来表示它的值。这里将寄存器集合看成一个数组R，用寄存器标识符作为索引。
* 内存引用：它会根据计算出来的地址访问某个内存位置。我们可以把内存看成一个很大的字节数组，用符号M$_b$[Addr]表示对存储在内存中从地址Addr开始的b个字节值的引用。

不同的操作可以组成多种不同的寻址模式，允许不同形式的内存引用。如下图，表中底部用语法Imm(r$_b$,r$_i$,s)表示的是最常用的形式。这样的引用有四部分组成：一个立即数偏移Imm，一个基址寄存器r$_b$，一个变址寄存器r$_i$和一个比例因子s，这里的s必须是1、2、4、8。基址和变址寄存器都必须是64位寄存器。

![](../images/cs/3.png)

###数据传送指令